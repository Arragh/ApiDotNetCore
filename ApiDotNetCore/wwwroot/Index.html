<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Список пользователей</title>
</head>
<body>
    <h1>Список юзеров</h1>
    <script>
        async function GetUsers() {
            const responce = await fetch('api/users', { method: 'GET', headers: { 'Accept': "application/json", 'Content-Type': 'application/json' } })
            if (responce.ok === true) {
                const users = await responce.json()
                if (users !== null) {
                    document.write('<table border=1>')
                    for (let i in users) {
                        document.write('<tr><td>' + users[i].userId + '</td><td>'  + users[i].firstName + '</td><td>' + users[i].lastName + '</td><td>' + users[i].age + '</td></tr>')
                    }
                    document.write('</table>')
                }
                else {
                    document.write("Не получилось")
                }
                console.log(users)
            }
        }
        GetUsers()
    </script>
</body>
</html>